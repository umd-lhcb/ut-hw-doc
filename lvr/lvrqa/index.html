



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://umd-lhcb.github.io/ut-hw-doc/lvr/lvrqa/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>Lvrqa - UMD UT hardware documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#lvr-qa-procedure" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://umd-lhcb.github.io/ut-hw-doc" title="UMD UT hardware documentation" class="md-header-nav__button md-logo">
          
            <img src="../../images/umd_logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              UMD UT hardware documentation
            </span>
            <span class="md-header-nav__topic">
              
                Lvrqa
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/umd-lhcb/ut-hw-doc/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    umd-lhcb/ut-hw-doc
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

<nav class="md-tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../.." class="md-tabs__link">
          Home
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../dcb/dcb_assembly/dcb_assembly/" class="md-tabs__link">
          DCB
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../lvr_qa/" class="md-tabs__link">
          LVR
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../minidaq/minidaq_usage/" class="md-tabs__link">
          MiniDAQ
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://umd-lhcb.github.io/ut-hw-doc" title="UMD UT hardware documentation" class="md-nav__button md-logo">
      
        <img src="../../images/umd_logo.png" width="48" height="48">
      
    </a>
    UMD UT hardware documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/umd-lhcb/ut-hw-doc/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    umd-lhcb/ut-hw-doc
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Home
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Home
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../.." title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      DCB
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        DCB
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../dcb/dcb_assembly/dcb_assembly/" title="DCB mechanical assembly" class="md-nav__link">
      DCB mechanical assembly
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dcb/dcb_qa/dcb_qa/" title="DCB QA" class="md-nav__link">
      DCB QA
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      LVR
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        LVR
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lvr_qa/" title="LVR QA" class="md-nav__link">
      LVR QA
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Other LVR breakout boards
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Other LVR breakout boards
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../lvr_pwr_input_brkout_brd_assembly/" title="LVR power input breakout board assembly" class="md-nav__link">
      LVR power input breakout board assembly
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lvr_pwr_input_brkout_brd_qa/" title="LVR power input breakout board QA" class="md-nav__link">
      LVR power input breakout board QA
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      MiniDAQ
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        MiniDAQ
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../minidaq/minidaq_usage/" title="MiniDAQ usage" class="md-nav__link">
      MiniDAQ usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../minidaq/centos_tips/" title="CentOS tips" class="md-nav__link">
      CentOS tips
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/umd-lhcb/ut-hw-doc/edit/master/docs/lvr/lvrqa.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="lvr-qa-procedure">LVR QA Procedure</h1>
<p>Note the following before beginning QA procedures:</p>
<p>a)  Beware that TP5 is <strong><em>not</em></strong> GND. The silkscreen label applies to
    the adjacent TP2.</p>
<p>b)  Fused power input breakout board silk screen circuit labels are
    incorrect.</p>
<p>c)  The LVR outputs should be connected to a benign load that can
    withstand having upwards of 7v output. (ie the LVR channel outputs
    follow the input power rail if the CCM is not populated and
    configured.)</p>
<p>d)  Extreme caution is needed when connecting test lead clips to the
    test points.</p>
<pre><code>a.  The test points are rather fragile and easily pulled of the
    board.

b.  Care must be taken to avoid temporary unintended shorts from the
    high density of surrounding components, via's, and traces.
</code></pre>
<p>e)  When configuring the CCMs on the LVR, remember that CCM voltage
    types split down the middle of the LVR (i.e. CH1-4 must have the
    same CCM voltage, CH5-8 must have the same CCM voltage)</p>
<p>f)  Going down the board on one side, arrange CCMs as master, slave,
    master, slave, etc.</p>
<p>g)  The Master-Slave configurations require a jumper ON the LVR output
    breakout board that electrically connects the master and slave
    output rails together.</p>
<p>Full QA Procedure:</p>
<p>1)  Note Serial Number of LVR and CCM before beginning QA</p>
<p>2)  Verify that the chassis and power ground are isolated > 25K Ohms.</p>
<pre><code>a.  Measure input voltage at the large lugs at the top of the board

b.  Use any GND TP on the board (i.e. TP7)
</code></pre>
<p>3)  Activate the LVR monitor</p>
<pre><code>a.  Go to PuTTY and select Monitor Pi

b.  Password is lvr
</code></pre>
<p>4)  Set power supply initially to 1.6 V and the current limited to 1.5 A</p>
<p>5)  Connect up power with any number of channels (ideally since all
    channels are being tested you should put fuses in all slots, however
    in principal it does not matter which channel you select)</p>
<pre><code>a.  Verify voltage polarity of connections
</code></pre>
<p>6)  Place a DVM (DC Voltage Meter) between TP3 (3.3V) and TP6 (GND) to
    monitor the 3.3v rail</p>
<p>7)  Place another DVM between TP8 (1.5V) and TP6 (GND) to monitor the
    1.5v rail</p>
<blockquote>
<p><strong>Note you can also use the LVR monitor for this section, looking at
the Vin_FPGA_3V3 and Vin_FPGA_1V5 readings</strong></p>
</blockquote>
<p>8)  Slowly increase the input voltage from the initial 1.6V to a max of
    4.5V while monitoring the 3.3v and 1.5v rails to make sure they stay
    below the max values. STOP IF VALUES BELOW ARE EXCEEDED to prevent
    damage.</p>
<pre><code>a.  1.5V x 110% = 1.65V

b.  3.3V x 110% = 3.63V
</code></pre>
<p>9)  Adjust p1 to obtain 1.50 v on TP8.</p>
<p>10) Adjust p2 to obtain 3.3v on TP3.</p>
<p>11) Re-verify both the 3.3v and 1.5v rails are correct. Ïƒ~V~ should be
    at most 0.01 V.</p>
<p>12) Record input current</p>
<p><img alt="" src="https://github.com/umd-lhcb/ut-hw-doc/blob/master/docs/lvr/lvrqa1.png" /></p>
<p>13) Place a DVM between TP4 (Vop_rail) and TP7 (GND)</p>
<p>14) Slowly increase the input voltage to 7V until EITHER the Vop_rail
    stops increasing or hits 5.5V.</p>
<pre><code>a.  **IT IS IMPERATIVE THAT THE Vop\_rail NOT EXCEED 5.5V !!!!**

b.  Adjust P5 whilst increasing the input voltage

c.  The Vop\_rail will clamp at a maximum of 5.5V when properly
    adjusted.
</code></pre>
<p><img alt="" src="https://github.com/umd-lhcb/ut-hw-doc/blob/master/docs/lvr/lvrqa2.png" />
<strong>Note you can also use the monitor to view Op Rail voltage (denoted as
V_OPAMP_RAIL)</strong></p>
<p>15) PROGRAM THE FPGA</p>
<p>```{=html}
<!-- --></p>
<pre><code>a.  Turn power off

b.  Connect jumpers between J22 pins 2 &amp; 4 (V\_pump) and between J22
    pins 1 &amp; 3 (V\_jtag)

c.  Connect programmer to J17.

d.  Turn power on

e.  Initiate the program sequence

    i.  If no program has been loaded onto the FPGA, go to Open Project

    ii. Inside the LVR folder select the program you want to run

    iii. Go to Configure Device

    iv. Click Browse, and select the .pdb file you wish to use to
        program

    v.  Set MODE to basic, and set ACTION to program

    vi. Once that is complete, click PROGRAM

f.  Record checksum when program is done

    i.  Checksum = \_\_\_\_\_\_\_

g.  Move jumpers on J22 to connect pins 4&amp;6 and pins 3&amp;5



16) Set dip switch configuration for undervoltage lockout and overtemp
    lockout

    a.  Locate dip switches SW6\[A,B,C,D\]. Note the side of the switch
        body labeled ON.

        i.  Set the 3^rd^ switch to ON. Leave others OFF

    b.  Locate the switch labeled SW1

        i.  Set the 4^th^ switch to ON. Leave others OFF

    c.  Locate the switches on the back of the regulator (SW2-5)

        i.  Set SW5 to \[OFF, OFF, OFF, OFF\]

        ii. For SW4, for each channel pair that has a master-slave pair,
            set each corresponding pin to OFF if a slave is present in
            the channel pair, otherwise set to ON

            1.  1 -\&gt; CH1+2, 2 -\&gt; CH3+4, 3 -\&gt; CH5+6, 4 -\&gt; CH7+8

        iii. Set SW2 and 3 to \[OFF, OFF, OFF, OFF\]

    d.  Note that the ON position is labelled opposite the numbered
        slots (1, 2, 3, 4)

    e.  Additionally, note that if you wish the board to be in pulsed
        duty cycle, set SW3 pin 1 to OFF, otherwise keep pin at ON

![](https://github.com/umd-lhcb/ut-hw-doc/blob/master/docs/lvr/lvrqa3.png)
![](https://github.com/umd-lhcb/ut-hw-doc/blob/master/docs/lvr/lvrqa4.png)
![](https://github.com/umd-lhcb/ut-hw-doc/blob/master/docs/lvr/lvrqa5.png)

17) Undervoltage Lockout test

    a.  Set input power to \~4.8 V

    ```{=html}
    &lt;!-- --&gt;
    ```
    a.  Locate SW6\[A, B, C, D\]

        i.  SW6A -\&gt; CH7 + CH8

        ii. SW6B -\&gt; CH5 + CH6

        iii. SW6C -\&gt; CH3 + CH4

        iv. SW6D -\&gt; CH1 + CH2

    b.  For each SW6\#, verify that its corresponding channels shut off
        when turning the switch configuration to \[OFF, OFF, OFF, OFF\]

    c.  Each channel should switch from some voltage (depending on power
        supply setting) to \~0V

18) Overtemperature lockout test

```{=html}
&lt;!-- --&gt;
</code></pre>

<p>a.  Locate SW1</p>
<p>b.  Set SW1 to [ON, ON, ON, ON]</p>
<pre><code>i.  This tells the board to lockout at room temperature
</code></pre>
<p>c.  Locate LD7 (bottom left corner of LVR)</p>
<p>d.  Verify LD7 is ON</p>
<p>e.  Verify all V_OUT channel values as shown on monitor go to \~0V</p>
<p>```{=html}
<!-- --></p>
<pre><code>19) Output standby configuration. Adjust the Voltage offsets at the
    following TP pairs using the following variable resistors

    a.  CH 4 to 1: TP9 (Vos\_gen) and TP10(GND)

    b.  CH 8 to 5: TP14 (Vos\_gen) and TP15(GND)

    c.  Adjust P3 and P4 on each respective side of the board in order
        to configure the voltages.

```{=html}
&lt;!-- --&gt;
</code></pre>

<p>i.  EACH 4-channel group must be set to operate with the same output
    voltage as shown below:</p>
<blockquote>
<p>Vos Vout</p>
</blockquote>
<ul>
<li>
<p>1.775V 2.5V case</p>
</li>
<li>
<p>1.546V 1.5V case</p>
</li>
<li>
<p>1.483V 1.225V case</p>
</li>
</ul>
<p>20) Use the RJ45 breakout board to perform the sense line test</p>
<p>```{=html}
<!-- --></p>
<pre><code>a.  Verify that the peak voltage goes to RAIL when the following sense
    lines are shorted to each other. Recall that on the respective
    ethernet connectors:

    i.  CH1 &amp; CH5 are pins 1&amp;2,

    ii. CH2 &amp; CH6 are pins 4&amp;5

    iii. CH3 &amp; CH7 are pins 3&amp;6

    iv. CH4 &amp; CH8 are pins 7&amp;8

    ```{=html}
    &lt;!-- --&gt;
    ```
    a.  Note that slave channels will not alter voltage when shorting
        those channels. They will only go to RAIL when shorting their
        respective master channels.

```{=html}
&lt;!-- --&gt;
</code></pre>

<p>21) Set SW2 1^st^ switch to ON (takes regulator out of pulsed mode)</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>




<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://umd-lhcb.github.io/ut-hw-doc/lvr/lvr_qa/lvr_qa/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>LVR QA - UMD UT hardware documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="../../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://umd-lhcb.github.io/ut-hw-doc" title="UMD UT hardware documentation" aria-label="UMD UT hardware documentation" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="../../../umd_logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              UMD UT hardware documentation
            </span>
            <span class="md-header-nav__topic">
              
                LVR QA
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/umd-lhcb/ut-hw-doc/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    umd-lhcb/ut-hw-doc
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../.." class="md-tabs__link">
          Home
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../dcb/dcb_assembly/dcb_assembly/" class="md-tabs__link">
          DCB
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../lvr_config/lvr_config/" class="md-tabs__link md-tabs__link--active">
          LVR
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../minidaq/minidaq_usage/" class="md-tabs__link">
          MiniDAQ
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://umd-lhcb.github.io/ut-hw-doc" title="UMD UT hardware documentation" class="md-nav__button md-logo">
      
        <img alt="logo" src="../../../umd_logo.png" width="48" height="48">
      
    </a>
    UMD UT hardware documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/umd-lhcb/ut-hw-doc/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    umd-lhcb/ut-hw-doc
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Home
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Home
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../.." title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      DCB
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        DCB
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dcb/dcb_assembly/dcb_assembly/" title="DCB mechanical assembly" class="md-nav__link">
      DCB mechanical assembly
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dcb/dcb_qa/dcb_qa/" title="DCB QA" class="md-nav__link">
      DCB QA
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      LVR
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        LVR
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../lvr_config/lvr_config/" title="LVR Configuration" class="md-nav__link">
      LVR Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ccm_id/ccm_id/" title="CCM Identification Guide" class="md-nav__link">
      CCM Identification Guide
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
    <a href="./" title="LVR QA" class="md-nav__link md-nav__link--active">
      LVR QA
    </a>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ccm_qa/ccm_qa/" title="CCM QA" class="md-nav__link">
      CCM QA
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      MiniDAQ
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        MiniDAQ
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../minidaq/minidaq_usage/" title="MiniDAQ usage" class="md-nav__link">
      MiniDAQ usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../minidaq/centos_tips/" title="CentOS tips" class="md-nav__link">
      CentOS tips
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/umd-lhcb/ut-hw-doc/edit/master/docs/lvr/lvr_qa/lvr_qa.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>LVR QA</h1>
                
                <div class="admonition info">
<p class="admonition-title">Before you proceed</p>
<ul>
<li>
<p>Beware that <strong><code>TP5</code></strong> is <strong>NOT</strong> GND. The silkscreen label applies to
  the adjacent <strong><code>TP2</code></strong>.</p>
</li>
<li>
<p>Fused power input breakout board silk screen circuit labels are
  incorrect.</p>
</li>
<li>
<p>The LVR outputs should be connected to a benign load that can withstand
  having upwards of 7V output. (i.e. the LVR channel outputs follow the input
  power rail if the CCM is not populated and configured.)</p>
</li>
<li>
<p>Extreme caution is needed when connecting test lead clips to the
  test points.</p>
</li>
<li>
<p>The test points are rather fragile and easily pulled of the board.</p>
</li>
<li>
<p>Care must be taken to avoid temporary unintended shorts from the high
  density of surrounding components, via's, and traces.</p>
</li>
<li>
<p>When configuring the CCMs on the LVR, remember that CCM voltage
  types split down the middle of the LVR (i.e. CH1-4 must have the same CCM
  voltage, CH5-8 must have the same CCM voltage)</p>
</li>
<li>
<p>Going down the board on one side, arrange CCMs as master, slave, master,
  slave, etc.</p>
</li>
<li>
<p>The Master-Slave configurations require a jumper ON the LVR output breakout
  board that electrically connects the master and slave output rails together.</p>
</li>
</ul>
</div>
<ol>
<li>
<p>Note Serial Number of LVR and CCM before beginning QA</p>
</li>
<li>
<p>Verify that the chassis and power ground are isolated > 25K Ohms.</p>
<ol>
<li>Measure input voltage at the large lugs at the top of the board</li>
<li>Use any GND test point on the board (i.e. <strong><code>TP7</code></strong>)</li>
<li>Repeat measurement reversing the polarity of leads (ground isolation circuit is different each way)</li>
</ol>
</li>
<li>
<p>Activate the LVR monitor if it is not already running</p>
<ol>
<li>Go to PuTTY and select Monitor Pi</li>
<li>Both user name and password are "<code>lvr</code>"</li>
</ol>
</li>
<li>
<p>Set power supply initially to 1.6V and the current limited to 2.0A</p>
</li>
<li>
<p>Connect provided input breakout board. Verify polarity of connections visually</p>
<ol>
<li>Red wire in positive terminal of power supply</li>
<li>Blue wire in negative terminal</li>
<li>Negative terminal and power supply ground shorted</li>
</ol>
</li>
<li>
<p>If not using the raspberry pi LVR monitor, place a DVM (DC Voltage Meter) between <strong><code>TP3</code></strong> (3.3V) and <strong><code>TP6</code></strong> (GND)
   to monitor the 3.3V rail, otherwise proceed to step 8.</p>
</li>
<li>
<p>Place another DVM between <strong><code>TP8</code></strong> (1.5V) and <strong><code>TP6</code></strong> (GND) to monitor
   the 1.5N rail</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can also use the LVR monitor for this section, looking at
the <code>Vin_FPGA_3V3</code> and <code>Vin_FPGA_1V5</code> reading.</p>
</div>
</li>
<li>
<p>Slowly increase the input voltage from the initial 1.6V to a max of
   4.5V while monitoring the 3.3V and 1.5V rails to make sure they stay
   below the max values.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>STOP IF VALUES BELOW ARE EXCEEDED</strong> to prevent damage.</p>
<ul>
<li>1.5V x 110% = 1.65V</li>
<li>3.3V x 110% = 3.63V</li>
</ul>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It may be useful to let the rail approach the desired value, then turn down
the setpoint to a value much below the current input voltage in order to find
the plateau (max voltage where the rail 'sticks') more quickly</p>
</div>
</li>
<li>
<p>Adjust P1 to obtain 1.5V  on <strong><code>TP8</code></strong>.</p>
</li>
<li>
<p>Continue increasing the input voltage and similarly adjust P2 to obtain 3.3V on <strong><code>TP3</code></strong>.</p>
</li>
<li>
<p>Both the 3.3V and 1.5V rails should be correct now and no longer
    increase as input voltage goes up. ÏƒV should be 0.01 V or less if possible.</p>
</li>
<li>
<p>Expected input current given by the supply at this point should be around 0.09A.
    If it is substantially more there may be an issue.</p>
</li>
<li>
<p>If not using the LVR monitor, place a DVM between <strong><code>TP4</code></strong> (<code>Vop_rail</code>) and <strong><code>TP7</code></strong> (GND).
    Otherwise proceed.</p>
<p><img alt="" src="../lvr_qa1.png" /></p>
</li>
<li>
<p>Slowly increase the input voltage to 7V until EITHER the Vop_rail
    stops increasing or hits 5.5V. (Note this is just the same thing as
    for the 1.5V and 3.3V, just now it's 5.5V).</p>
<ol>
<li>Adjust P5 whilst increasing the input voltage</li>
<li>The <code>Vop_rail</code> will clamp at a maximum of 5.5V when properly
    adjusted.</li>
</ol>
<p><img alt="" src="../lvr_qa2.png" /></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>IT IS IMPERATIVE THAT THE <code>Vop_rail</code> NOT EXCEED 5.5V !!!!</strong></p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>In the LVR monitor software this voltage rail is denoted as
<code>V_OPAMP_RAIL</code>, because this is the input voltage used to power
OpAmps (operational amplifiers) on the board and ccms.</p>
</div>
</li>
<li>
<p>Program the FPGA</p>
<ol>
<li>Turn power off</li>
<li>Connect jumpers between <strong><code>J22</code></strong> (near ch8)
    pins 2 &amp; 4 (<code>V_pump</code>) and between
   <code>J22</code> pins 1 &amp; 3 (<code>V_jtag</code>).</li>
<li>Connect programmer to <strong><code>J17</code></strong> (back of the board, center).</li>
<li>
<p>Turn power on</p>
</li>
<li>
<p>Initiate the program sequence</p>
<ol>
<li>If no program has been loaded onto the FPGA, go to Open Project, otherwise continue to 5.</li>
<li>Inside the LVR folder select the program you want to run</li>
<li>Go to Configure Device</li>
<li>Click Browse, and select the <code>.pdb</code> file you wish to use to
   program</li>
<li>Set <strong>MODE</strong> to basic (should be default), and set <strong>ACTION</strong> to program</li>
<li>Once that is complete, click <strong>PROGRAM</strong></li>
</ol>
</li>
<li>
<p>Check in the log that the auto-verify ran successfully.</p>
</li>
<li>
<p>Turn off power and install CCMs</p>
</li>
</ol>
</li>
<li>
<p>Set dip switch configuration for undervoltage lockout and overtemp
    lockout</p>
<ol>
<li>
<p>Locate dip switches SW6[A,B,C,D]. Note the side of the switch
   body labeled ON.
   Set the 3<sup>rd</sup> switch to <strong>ON</strong>. Leave others <strong>OFF</strong>.</p>
<p><img alt="" src="../lvr_qa3.png" /></p>
</li>
<li>
<p>Locate the switch labeled SW1. Set the 4<sup>th</sup> switch to <strong>ON</strong>. Leave
   others <strong>OFF</strong>.</p>
</li>
<li>
<p>Locate the switches on the back of the regulator (SW2-5)</p>
<p><img alt="" src="../lvr_qa4.png" /></p>
<ol>
<li>Set SW5 to [<strong>OFF, OFF, OFF, OFF</strong>]</li>
<li>
<p>For SW4, for each channel pair that has a master-slave pair,
   set each corresponding pin to <strong>OFF</strong> if a slave is present in
   the channel pair, otherwise set to <strong>ON</strong></p>
<table>
<thead>
<tr>
<th>SW4 switcher</th>
<th>Channels</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>CH1 &amp; 2</td>
</tr>
<tr>
<td>2</td>
<td>CH3 &amp; 4</td>
</tr>
<tr>
<td>3</td>
<td>CH5 &amp; 6</td>
</tr>
<tr>
<td>4</td>
<td>CH7 &amp; 8</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Set SW2 and SW3 to [<strong>OFF, OFF, OFF, OFF</strong>]</p>
</li>
</ol>
</li>
<li>
<p>Note that the ON position is labelled opposite the numbered
   slots (1, 2, 3, 4)</p>
</li>
<li>
<p>Additionally, note that if you wish the board to be in pulsed
   duty cycle, set SW3 pin 1 to <strong>OFF</strong>, otherwise keep pin at <strong>ON</strong>.
   For most of the QA sequence it will be more useful in <strong>ON</strong></p>
<p><img alt="" src="../lvr_qa5.png" /></p>
</li>
</ol>
</li>
<li>
<p>Undervoltage Lockout test</p>
<ol>
<li>Set input power to ~4.8 V</li>
<li>Reduce the input power gradually, and confirm that the outputs shut off below
   4.5-4.6 volts (ish).</li>
</ol>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>To test individual undervoltage lockouts (if needed) use the following procedure</p>
<ol>
<li>
<p>Locate SW6[A, B, C, D]. The switcher-channel correspondence is given in the table below</p>
</li>
<li>
<p>For each SW6#, verify that its corresponding channels shut off
   when turning the switch configuration to [<strong>OFF, OFF, OFF, OFF</strong>]</p>
</li>
<li>
<p>Each channel should switch from some voltage (depending on power
   supply setting) to ~0V.</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>SW6 switcher</th>
<th>Channels</th>
</tr>
</thead>
<tbody>
<tr>
<td>SW6A</td>
<td>CH7 &amp; 8</td>
</tr>
<tr>
<td>SW6B</td>
<td>CH5 &amp; 6</td>
</tr>
<tr>
<td>SW6C</td>
<td>CH3 &amp; 4</td>
</tr>
<tr>
<td>SW6D</td>
<td>CH1 &amp; 2</td>
</tr>
</tbody>
</table>
</div>
</li>
<li>
<p>Overtemperature lockout test</p>
<ol>
<li>Locate SW1.</li>
<li>
<p>Set SW1 to [<strong>ON, ON, ON, ON</strong>].</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This tells the board that it should shut down if it gets above ~ 20C (room temperature).</p>
</div>
</li>
<li>
<p>Locate <strong><code>LD7</code></strong> (bottom left corner of LVR).</p>
</li>
<li>Verify <strong><code>LD7</code></strong> is <code>ON</code>.</li>
<li>Verify all <code>V_OUT</code> channel values as shown on monitor go to ~0V.</li>
<li>Set SW1 back to nominal [<strong>OFF, OFF, OFF, ON</strong>]</li>
</ol>
</li>
<li>
<p>Output standby configuration. Adjust the Voltage offsets at the
    following test point pairs using the following variable resistors</p>
<ul>
<li>CH 4-1: <strong><code>TP9</code></strong> (<code>Vos_gen</code>) and <strong><code>TP10</code></strong> (GND)</li>
<li>CH 8-5: <strong><code>TP14</code></strong> (<code>Vos_gen</code>) and <strong><code>TP15</code></strong> (GND)</li>
</ul>
<p>Adjust P3 and P4 on each respective side of the board in order
to configure the voltages. (They are beside the testpoints. You can remove
the nearby CCM if it gets in your way)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Each 4-channel group must be set to operate with the same output
voltage according to what kind of CCM it will host as shown below:</p>
<table>
<thead>
<tr>
<th>Vos [V]</th>
<th>Vccm [V]</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.775</td>
<td>2.5</td>
</tr>
<tr>
<td>1.546</td>
<td>1.5</td>
</tr>
<tr>
<td>1.483</td>
<td>1.225</td>
</tr>
</tbody>
</table>
</div>
</li>
<li>
<p>Use the RJ45 breakout board to perform the sense line test.
    Verify that the voltage of a channel goes to RAIL when the corresponding sense
    lines are shorted to each other. The sense lines are mapped to the RJ45 as follows:</p>
<table>
<thead>
<tr>
<th>Channels</th>
<th>Pins</th>
<th>RJ45 Connector</th>
</tr>
</thead>
<tbody>
<tr>
<td>CH1</td>
<td>1 &amp; 2</td>
<td>Right (J10)</td>
</tr>
<tr>
<td>CH2 (if 12/25A)</td>
<td>4 &amp; 5</td>
<td>Right (J10)</td>
</tr>
<tr>
<td>CH3</td>
<td>3 &amp; 6</td>
<td>Right (J10)</td>
</tr>
<tr>
<td>CH4 (if 12/25A)</td>
<td>7 &amp; 8</td>
<td>Right (J10)</td>
</tr>
<tr>
<td>CH5</td>
<td>1 &amp; 2</td>
<td>Left  (J16)</td>
</tr>
<tr>
<td>CH6 (if 12/25A)</td>
<td>4 &amp; 5</td>
<td>Left  (J16)</td>
</tr>
<tr>
<td>CH7</td>
<td>3 &amp; 6</td>
<td>Left  (J16)</td>
</tr>
<tr>
<td>CH8 (if 12/25A)</td>
<td>7 &amp; 8</td>
<td>Left  (J16)</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Slave channels will not alter voltage when shorting those channels.
They will only go to RAIL when shorting their respective master channels.</p>
</div>
</li>
<li>
<p>SPI Communication test</p>
<ol>
<li>On the laptop's desktop, locate the "SPI test". Run this shortcut.</li>
<li>The username and password are both 'spitest'</li>
<li>The 4 bytes transmitted to the LVR are in the left column, the 4 received are on the right. You should
   see (possibly after 4-5 rounds of communication) that the message received from the LVR is the previous one that
   was sent.</li>
<li>Finally, once communication is verified, connect the SPI_RESET line (floating green wire) to any GND test point on the LVR
   (the GND on the raspberry pi or the Rigol power supply also works in principle). The LVR should stop replying and
   you should read the response as all 00 00 00 00 until you allow the SPI_RESET to float once more.</li>
</ol>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>The following illustrates the kind of output you're looking for when communication is working:</p>
<pre><code>04 04 04 04       03 03 03 03
05 05 05 05       04 04 04 04
06 06 06 06       05 05 05 05
07 07 07 07       06 06 06 06
</code></pre>
</div>
</li>
<li>
<p>If it is not already, set SW3 1<sup>st</sup> switch to <strong>ON</strong> (takes regulator out of pulsed mode).</p>
</li>
</ol>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../ccm_id/ccm_id/" title="CCM Identification Guide" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                CCM Identification Guide
              </span>
            </div>
          </a>
        
        
          <a href="../../ccm_qa/ccm_qa/" title="CCM QA" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                CCM QA
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../../.."}})</script>
      
    
  </body>
</html>
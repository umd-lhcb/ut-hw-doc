<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://umd-lhcb.github.io/ut-hw-doc/burnin/dcb_operations/ rel=canonical><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.5.3"><title>DCB burn-in operations - UMD UT hardware documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.947af8d5.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.7f672a1f.min.css><meta name=theme-color content=#ef5350><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#stopping-the-dcb-burn-in class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://umd-lhcb.github.io/ut-hw-doc title="UMD UT hardware documentation" class="md-header-nav__button md-logo" aria-label="UMD UT hardware documentation"> <img src=../../umd_logo.png alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> UMD UT hardware documentation </span> <span class="md-header-nav__topic md-ellipsis"> DCB burn-in operations </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/umd-lhcb/ut-hw-doc/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> umd-lhcb/ut-hw-doc </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://umd-lhcb.github.io/ut-hw-doc title="UMD UT hardware documentation" class="md-nav__button md-logo" aria-label="UMD UT hardware documentation"> <img src=../../umd_logo.png alt=logo> </a> UMD UT hardware documentation </label> <div class=md-nav__source> <a href=https://github.com/umd-lhcb/ut-hw-doc/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> umd-lhcb/ut-hw-doc </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Home <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Home data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. title="Getting started" class=md-nav__link> Getting started </a> </li> <li class=md-nav__item> <a href=../../license/ title=License class=md-nav__link> License </a> </li> <li class=md-nav__item> <a href=../box_algorithm/ title=boxes class=md-nav__link> boxes </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> DCB <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=DCB data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> DCB </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dcb/dcb_assembly/dcb_assembly/ title="DCB mechanical assembly" class=md-nav__link> DCB mechanical assembly </a> </li> <li class=md-nav__item> <a href=../../dcb/dcb_qa/dcb_qa/ title="DCB QA" class=md-nav__link> DCB QA </a> </li> <li class=md-nav__item> <a href=../../dcb/dcb_shipping/dcb_shipping/ title="DCB Shipping" class=md-nav__link> DCB Shipping </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> LVR <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=LVR data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> LVR </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../lvr/lvr_assembly/lvr_assembly/ title="LVR mechanical assembly" class=md-nav__link> LVR mechanical assembly </a> </li> <li class=md-nav__item> <a href=../../lvr/lvr_qa/lvr_qa/ title="LVR Setup/Initial QA" class=md-nav__link> LVR Setup/Initial QA </a> </li> <li class=md-nav__item> <a href=../../lvr/qa_final/qa_final/ title="LVR Final QA" class=md-nav__link> LVR Final QA </a> </li> <li class=md-nav__item> <a href=../../lvr/lvr_config/lvr_config/ title="LVR Configuration" class=md-nav__link> LVR Configuration </a> </li> <li class=md-nav__item> <a href=../../lvr/ccm_id/ccm_id/ title="CCM Identification Guide" class=md-nav__link> CCM Identification Guide </a> </li> <li class=md-nav__item> <a href=../../lvr/ccm_test_stand_config/ccm_test_stand_config/ title="CCM Test Stand Configuration" class=md-nav__link> CCM Test Stand Configuration </a> </li> <li class=md-nav__item> <a href=../../lvr/ccm_qa/ccm_qa/ title="CCM QA" class=md-nav__link> CCM QA </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> MiniDAQ <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=MiniDAQ data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> MiniDAQ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../minidaq/minidaq_usage/ title="MiniDAQ usage" class=md-nav__link> MiniDAQ usage </a> </li> <li class=md-nav__item> <a href=../../minidaq/centos_tips/ title="CentOS tips" class=md-nav__link> CentOS tips </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5 checked> <label class=md-nav__link for=nav-5> Burn-in <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Burn-in data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Burn-in </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../burnin_hw_setup/burnin_hw_setup/ title="Burn-in hardware setup" class=md-nav__link> Burn-in hardware setup </a> </li> <li class=md-nav__item> <a href=../burnin_sw_setup/ title="Burn-in software setup" class=md-nav__link> Burn-in software setup </a> </li> <li class=md-nav__item> <a href=../lvr_operations/lvr_operations/ title="LVR burn-in operations" class=md-nav__link> LVR burn-in operations </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> DCB burn-in operations <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=./ title="DCB burn-in operations" class="md-nav__link md-nav__link--active"> DCB burn-in operations </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#stopping-the-dcb-burn-in class=md-nav__link> Stopping the DCB burn-in </a> </li> <li class=md-nav__item> <a href=#starting-the-dcb-burn-in class=md-nav__link> Starting the DCB burn-in </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#stopping-the-dcb-burn-in class=md-nav__link> Stopping the DCB burn-in </a> </li> <li class=md-nav__item> <a href=#starting-the-dcb-burn-in class=md-nav__link> Starting the DCB burn-in </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/umd-lhcb/ut-hw-doc/edit/master/docs/burnin/dcb_operations.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1>DCB burn-in operations</h1> <h2 id=stopping-the-dcb-burn-in>Stopping the DCB burn-in</h2> <ol> <li> <p>Execute <code>burnin_read.sh</code>. If any GBTxs don't report <code>03151515</code>, note the DCB in the database. If any DCBs don't respond at all, try resetting the SCA from the MiniDAQ SCA panel.</p> </li> <li> <p>Turn off Maraton channels 0, 1, and 12 and verify that all LEDs are off in the bottom SBC. Directions <a href=../burnin_sw_setup/#controlling-the-psu-maraton-with-curl>here</a>.</p> </li> <li> <p>Turn off channels 1 and 2 of the Rigol power supply.</p> </li> <li> <p>Disconnect the optical fibers and pull-up harnesses from the DCBs.</p> </li> <li> <p>One by one, remove the DCBs from the crate, do a brief visual inspection and check their backplane connectors for damage, and put them in ESD bags.</p> </li> <li> <p>Update the database with burned-in DCBs.</p> </li> </ol> <h2 id=starting-the-dcb-burn-in>Starting the DCB burn-in</h2> <ol> <li> <p>Take an initial QA-d DCB out of it's ESD bag and do a brief visual inspection, checking the backplane connector for damage.</p> </li> <li> <p>One by one, plug DCBs into the crate, lifting the power wires out of the way.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>Slots 10 and 11 are unused, I recommend starting with Slot 0 on the right when facing the DCB.</p> </div> <ol> <li>As you plug in each DCB, also plug the pull-up harness into the FFC connector of the Master GBTx (third from the top when plugged into the crate).</li> <li>After connecting each FFC, power on the appropriate Rigol channel and check that the current consumption increases by ~0.15A, then power it off.</li> <li>If not, re-seat the FFC cable. Power off the Rigol when all FFCs are successfully connected.</li> </ol> </li> <li> <p>After all DCBs are in the crate and the pull-up harnesses are successfully connected, connect the optical fibers to the Master GBTx mezzanines (third from the top when plugged into the crate).</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>The fiber bundles are labeled 0-4 and 5-9, and the individual fibers are numbered from 1-12 in each bundle.</p> </div> <ol> <li>Start with (1,2) for DCB 0, with 1 on top.</li> <li>Proceed with (3,4) etc. with the lower odd numbered fiber always on top.</li> <li>Fibers 11 and 12 are not used, so start over with (1,2) from the second bundle at DCB 5.</li> </ol> </li> <li> <p>Once all fibers are connected, power on Maraton channels 0, 1, and 12 and verify that the LEDs are on in the bottom SBC. Directions <a href=../burnin_sw_setup/#controlling-the-psu-maraton-with-curl>here</a></p> </li> <li> <p>Power on the Rigol.</p> </li> <li> <p>Open PuTTY, click on MiniDAQ, and navigate to the <code>nanoDAQ</code> directory.</p> </li> <li> <p>Because the DCB programming can be unreliable on the first tries after power-up, I suggest running</p> <pre><code>./dcbutil.py init ./gbtx_config/slave-Tx-wrong_termination.txt -g 0
</code></pre> <p>If there is an error, try again a few times. If programming has been stable you can skip this step. Once no error is observed you can program all of the data GBTxs with</p> <pre><code>./burnin_init.sh
</code></pre> <p>enable PRBS with</p> <pre><code>./burnin_prbs.sh
</code></pre> <p>and verify that the boards are properly configured with</p> <pre><code>./burnin_read.sh
</code></pre> <p>Check that each GBTx reports <code>03151515</code>. The burn-in is now running.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>If a DCB is not responding try reading from it individually with </p> <pre><code>  ./dcbutil.py read 1c 4 -g #
</code></pre> <p>The most common problems are that the SCA needs to be reset from the MiniDAQ SCA panel, and that the FFC cable needs to be reseated or even removed and the kapton insulation replaced (even if the current consumption for the reset line is correct).</p> <p>You can also try the following in no particular order: </p> <ul> <li> <p>Reset the master with the RIGOL</p> </li> <li> <p>Reset the data GBTxs following the DCB QA instructions</p> </li> <li> <p>Power cycle the DCBs</p> </li> <li> <p>Reseat the FFC cables</p> </li> </ul> </div> </li> </ol> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../lvr_operations/lvr_operations/ title="LVR burn-in operations" class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> LVR burn-in operations </div> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/vendor.c3dc8c49.min.js></script> <script src=../../assets/javascripts/bundle.f9edbbd5.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.8e2cddea.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>